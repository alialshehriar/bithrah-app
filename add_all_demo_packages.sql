-- إضافة باقات دعم لجميع المشاريع التجريبية
-- المشاريع: 24, 25, 26, 27

-- حذف الباقات القديمة إذا كانت موجودة
DELETE FROM support_packages WHERE project_id IN (24, 25, 26, 27);

-- ===== المشروع 24 =====
INSERT INTO support_packages (project_id, name, description, amount, features, max_backers, current_backers, is_active)
VALUES
(24, 'الداعم المبكر', 'كن من أوائل الداعمين واحصل على شكر خاص في المنصة', 100.00, 
'["شكر خاص في المنصة", "تحديثات حصرية عبر البريد", "شارة الداعم المبكر"]'::jsonb, 
100, 23, true),

(24, 'الداعم البرونزي', 'دعم أساسي مع مزايا حصرية', 500.00,
'["كل مزايا الداعم المبكر", "الوصول المبكر للمنصة (بيتا)", "دعوة لحضور الإطلاق الرسمي", "خصم 10% على الخدمات"]'::jsonb,
50, 12, true),

(24, 'الداعم الفضي', 'دعم متوسط مع مزايا قيّمة', 1000.00,
'["كل مزايا الداعم البرونزي", "جلسة استشارية مجانية (30 دقيقة)", "شارة الداعم الفضي", "خصم 20% على الخدمات", "ذكر الاسم في صفحة الشكر"]'::jsonb,
30, 8, true),

(24, 'الداعم الذهبي', 'دعم متقدم مع مزايا مميزة', 5000.00,
'["كل مزايا الداعم الفضي", "3 جلسات استشارية مجانية", "شارة الداعم الذهبي", "خصم 30% على الخدمات", "دعوة حصرية لفعاليات VIP", "تقرير شهري عن تقدم المشروع"]'::jsonb,
20, 5, true),

(24, 'الداعم البلاتيني', 'دعم استثنائي مع مزايا حصرية', 10000.00,
'["كل مزايا الداعم الذهبي", "جلسات استشارية غير محدودة", "شارة الداعم البلاتيني", "خصم 50% على الخدمات", "لقاء شخصي مع الفريق", "مشاركة في قرارات المنتج", "شراكة إعلامية"]'::jsonb,
10, 2, true);

-- ===== المشروع 25 =====
INSERT INTO support_packages (project_id, name, description, amount, features, max_backers, current_backers, is_active)
VALUES
(25, 'الداعم المبكر', 'كن من أوائل الداعمين واحصل على شكر خاص', 150.00, 
'["شكر خاص في المنصة", "تحديثات حصرية", "شارة الداعم المبكر"]'::jsonb, 
80, 15, true),

(25, 'الداعم البرونزي', 'دعم أساسي مع مزايا حصرية', 750.00,
'["كل مزايا الداعم المبكر", "الوصول المبكر للمنتج", "دعوة للإطلاق", "خصم 15% على الخدمات"]'::jsonb,
40, 8, true),

(25, 'الداعم الفضي', 'دعم متوسط مع مزايا قيّمة', 1500.00,
'["كل مزايا الداعم البرونزي", "جلسة استشارية مجانية", "شارة الداعم الفضي", "خصم 25% على الخدمات"]'::jsonb,
25, 5, true),

(25, 'الداعم الذهبي', 'دعم متقدم مع مزايا مميزة', 7500.00,
'["كل مزايا الداعم الفضي", "5 جلسات استشارية", "شارة الداعم الذهبي", "خصم 40% على الخدمات", "دعوة VIP"]'::jsonb,
15, 3, true);

-- ===== المشروع 26 =====
INSERT INTO support_packages (project_id, name, description, amount, features, max_backers, current_backers, is_active)
VALUES
(26, 'الداعم المبكر', 'كن من أوائل الداعمين لهذا المشروع الرائد', 200.00, 
'["شكر خاص في المنصة", "تحديثات حصرية عبر البريد", "شارة الداعم المبكر", "وصول مبكر للنسخة التجريبية"]'::jsonb, 
100, 0, true),

(26, 'الداعم البرونزي', 'دعم أساسي مع مزايا حصرية للمشروع', 1000.00,
'["كل مزايا الداعم المبكر", "الوصول الكامل للمنصة", "دعوة لحضور الإطلاق الرسمي", "خصم 10% على الخدمات", "تقرير شهري عن التقدم"]'::jsonb,
50, 0, true),

(26, 'الداعم الفضي', 'دعم متوسط مع مزايا قيّمة ومميزة', 2500.00,
'["كل مزايا الداعم البرونزي", "جلستين استشاريتين مجانيتين", "شارة الداعم الفضي", "خصم 20% على الخدمات", "ذكر الاسم في صفحة الشكر", "وصول لمجموعة الداعمين الخاصة"]'::jsonb,
30, 0, true),

(26, 'الداعم الذهبي', 'دعم متقدم مع مزايا مميزة وحصرية', 7500.00,
'["كل مزايا الداعم الفضي", "5 جلسات استشارية مجانية", "شارة الداعم الذهبي", "خصم 35% على الخدمات", "دعوة حصرية لفعاليات VIP", "تقرير أسبوعي مفصل", "مشاركة في اختبار الميزات الجديدة"]'::jsonb,
20, 0, true),

(26, 'الداعم البلاتيني', 'دعم استثنائي مع مزايا حصرية للغاية', 15000.00,
'["كل مزايا الداعم الذهبي", "جلسات استشارية غير محدودة", "شارة الداعم البلاتيني", "خصم 50% على جميع الخدمات", "لقاء شخصي مع الفريق المؤسس", "مشاركة في قرارات المنتج الاستراتيجية", "شراكة إعلامية بارزة"]'::jsonb,
10, 0, true),

(26, 'الشريك الاستراتيجي', 'شراكة استراتيجية كاملة مع حصة في المشروع', 75000.00,
'["كل مزايا الداعم البلاتيني", "حصة 3% في المشروع", "مقعد استشاري في مجلس الإدارة", "شراكة استراتيجية طويلة الأمد", "ذكر بارز كشريك رئيسي", "وصول كامل لجميع البيانات والتقارير", "أولوية قصوى في جميع المشاريع المستقبلية", "حقوق ترخيص حصرية"]'::jsonb,
5, 0, true);

-- ===== المشروع 27 =====
INSERT INTO support_packages (project_id, name, description, amount, features, max_backers, current_backers, is_active)
VALUES
(27, 'الداعم المبكر', 'كن من أوائل الداعمين', 100.00, 
'["شكر خاص", "تحديثات حصرية", "شارة الداعم المبكر"]'::jsonb, 
120, 0, true),

(27, 'الداعم البرونزي', 'دعم أساسي مع مزايا', 500.00,
'["كل مزايا الداعم المبكر", "وصول مبكر", "خصم 10%"]'::jsonb,
60, 0, true),

(27, 'الداعم الفضي', 'دعم متوسط مع مزايا قيّمة', 1200.00,
'["كل مزايا الداعم البرونزي", "جلسة استشارية", "خصم 20%"]'::jsonb,
35, 0, true),

(27, 'الداعم الذهبي', 'دعم متقدم مع مزايا مميزة', 5000.00,
'["كل مزايا الداعم الفضي", "3 جلسات استشارية", "خصم 30%", "دعوة VIP"]'::jsonb,
20, 0, true);

-- التحقق من النتائج
SELECT 
  sp.project_id,
  p.title as project_title,
  COUNT(sp.id) as packages_count,
  SUM(sp.current_backers) as total_backers
FROM support_packages sp
LEFT JOIN projects p ON sp.project_id = p.id
WHERE sp.project_id IN (24, 25, 26, 27)
GROUP BY sp.project_id, p.title
ORDER BY sp.project_id;
