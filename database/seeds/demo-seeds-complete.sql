-- ====================================
-- Bithrah App - Complete Demo Seeds
-- ====================================
-- Complete demo data for exhibition and marketing
-- All data marked with is_demo=true

-- ====================================
-- 1. Demo Project - Comprehensive
-- ====================================
INSERT INTO projects (
  title,
  description,
  category,
  goal_amount,
  current_amount,
  owner_id,
  status,
  is_demo,
  featured,
  trending,
  image_url,
  tags,
  end_date,
  created_at,
  updated_at
) VALUES (
  'ููุตุฉ ุจุฐุฑุฉ - ุจูุฆุฉ ุงููุณุงุทุฉ ุงูุฐููุฉ',
  E'ูุดุฑูุน ุชุฌุฑูุจู ููุถุญ ููููุฉ ุนูู ููุตุฉ ุจุฐุฑุฉ ุงููุงููุฉ.\n\n**ูุง ูู ุจุฐุฑุฉุ**\nุจุฐุฑุฉ ูู ุฃูู ุจูุฆุฉ ูุณุงุทุฉ ุฐููุฉ ูู ุงูุณุนูุฏูุฉ ุชุฑุจุท ุฃุตุญุงุจ ุงููุดุงุฑูุน ุจุงููุณุชุซูุฑูู ูุงูุฏุงุนููู. ูุณุชุฎุฏู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชูููู ุงูุฃููุงุฑ ูุชุณููู ุงูุชูุงูุถ.\n\n**ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ:**\nโข ุชูููู ุงูุฃููุงุฑ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู\nโข ูุธุงู ุชูุงูุถ ุฐูู ูุน ุฑุณูู ูุญุณูุจุฉ ุชููุงุฆูุงู\nโข ูุฌุชูุนุงุช ุชูุงุนููุฉ (ุนุงูุฉ ูุฐูุจูุฉ)\nโข ุจุงูุงุช ุงุดุชุฑุงู ูุชููุนุฉ (ูุถูุ ุฐูุจูุ ุจูุงุชููู)\nโข ูุธุงู ุฅุญุงูุงุช ูููุญุฉ ุตุฏุงุฑุฉ\nโข ุญูุงูุฉ ูุงููุฉ ููููููุฉ ุงูููุฑูุฉ\n\n**ููู ุชุฌุฑุจ ุงูููุตุฉุ**\n1. ุงุณุชุฎุฏู ุฑุตูุฏู ุงูุชุฌุฑูุจู (100,000 ุฑูุงู)\n2. ุงุฏุนู ูุฐุง ุงููุดุฑูุน ุจุฅุญุฏู ุงูุจุงูุงุช\n3. ุฌุฑุจ ูุชุญ ุจุงุจ ุงูุชูุงูุถ\n4. ูููู ููุฑุชู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู\n5. ุงูุถู ูููุฌุชูุนุงุช\n6. ุงุดุชุฑู ูู ุฅุญุฏู ุงูุจุงูุงุช\n\nุฌููุน ุงูุนูููุงุช ุชุฌุฑูุจูุฉ ูุงููุจุงูุบ ุชูุณุชุฑุฏ ุชููุงุฆูุงู!',
  'technology',
  500000,
  350000,
  1, -- Assuming first user is admin
  'active',
  true,
  true,
  true,
  '/images/demo-project.jpg',
  ARRAY['ุชูููุฉ', 'ุฐูุงุก ุงุตุทูุงุนู', 'ูุณุงุทุฉ', 'ุงุณุชุซูุงุฑ', 'ุชุฌุฑูุจู'],
  NOW() + INTERVAL '45 days',
  NOW(),
  NOW()
) ON CONFLICT DO NOTHING;

-- Get the demo project ID
DO $$
DECLARE
  demo_project_id INTEGER;
BEGIN
  SELECT id INTO demo_project_id FROM projects WHERE is_demo = true AND title LIKE '%ุจุฐุฑุฉ%' LIMIT 1;
  
  -- ====================================
  -- 2. Demo Project Packages
  -- ====================================
  INSERT INTO support_packages (
    project_id,
    title,
    description,
    amount,
    benefits,
    max_backers,
    current_backers,
    is_available,
    created_at
  ) VALUES 
  (
    demo_project_id,
    'ุจุงูุฉ ุงูุจุฏุงูุฉ',
    'ุนุฑุถ ุงููุดุฑูุน ููุฏุฉ 30 ููู + ุฏุนู ุฃุณุงุณู',
    5000,
    ARRAY['ุธููุฑ ูู ุงููุงุฆูุฉ ุงูุนุงุฏูุฉ', 'ุฏุนู ููู ุฃุณุงุณู', 'ุฅุญุตุงุฆูุงุช ุจุณูุทุฉ', 'ุดุงุฑุฉ "ูุฏุนูู"'],
    100,
    23,
    true,
    NOW()
  ),
  (
    demo_project_id,
    'ุจุงูุฉ ุงูููู',
    'ุนุฑุถ ุงููุดุฑูุน ููุฏุฉ 60 ููู + ูุฒุงูุง ูุชูุฏูุฉ',
    15000,
    ARRAY['ุธููุฑ ูููุฒ ูู ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ', 'ุดุงุฑุฉ "ูุดุฑูุน ูููุฒ"', 'ุชุญูููุงุช AI ุฃุณุงุณูุฉ', 'ุฏุนู ูุชูุฏู', 'ุชูุงุฑูุฑ ุฃุณุจูุนูุฉ'],
    50,
    12,
    true,
    NOW()
  ),
  (
    demo_project_id,
    'ุจุงูุฉ ุงูุงุญุชุฑุงู',
    'ุนุฑุถ ุงููุดุฑูุน ููุฏุฉ 90 ููู + ุฌููุน ุงููุฒุงูุง',
    30000,
    ARRAY['ุฃุนูู ุงููุงุฆูุฉ ุฏุงุฆูุงู', 'ุดุงุฑุฉ "ุงุญุชุฑุงูู"', 'ุชุญูููุงุช AI ูุชูุฏูุฉ', 'ุฏุนู 24/7', 'ุชุฑููุฌ ุจุฑูุฏู', 'ุงุณุชุดุงุฑุงุช ุชุณููููุฉ', 'ุชูุงุฑูุฑ ููููุฉ'],
    20,
    5,
    true,
    NOW()
  )
  ON CONFLICT DO NOTHING;
END $$;

-- ====================================
-- 3. Demo Community
-- ====================================
INSERT INTO communities (
  name,
  description,
  category,
  owner_id,
  is_demo,
  is_golden,
  member_count,
  post_count,
  image_url,
  tags,
  created_at,
  updated_at
) VALUES (
  'ูุฌุชูุน ุจุฐุฑุฉ ุงูุชุฌุฑูุจู',
  E'ูุฌุชูุน ุชูุงุนูู ููุถุญ ููููุฉ ุงูุชูุงุตู ูุงููุดุงุฑูุฉ ุฏุงุฎู ููุตุฉ ุจุฐุฑุฉ. ุงูุถู ููููุงุดุงุชุ ุดุงุฑู ุฎุจุฑุงุชูุ ูุชุนูู ูู ุฑูุงุฏ ุงูุฃุนูุงู ุงูุขุฎุฑูู.\n\n**ูุง ููููู ูุนูู ููุง:**\nโข ูุดุฑ ููุงุถูุน ุฌุฏูุฏุฉ\nโข ุงูุฑุฏ ุนูู ุงูููุงุถูุน ุงูุฃุฎุฑู\nโข ุงูุชูุงุนู ูุน ุงูุฃุนุถุงุก\nโข ูุดุงุฑูุฉ ุงูุฎุจุฑุงุช ูุงูุฃููุงุฑ\n\n**ุงููุฌุชูุนุงุช ุงูุฐูุจูุฉ:**\nุงููุดุชุฑููู ูู ุงูุจุงูุฉ ุงูุฐูุจูุฉ ูุงูุจูุงุชูููุฉ ูููููู ุงููุตูู ููุฌุชูุนุงุช ุญุตุฑูุฉ ูุน ูุญุชูู ูุชูุฏู ูููุงุดุงุช ูุชุฎุตุตุฉ.',
  'general',
  1,
  true,
  false,
  1847,
  234,
  '/images/demo-community.jpg',
  ARRAY['ุนุงู', 'ุชุฌุฑูุจู', 'ุชูุงุนูู', 'ุฑูุงุฏ ุฃุนูุงู'],
  NOW(),
  NOW()
) ON CONFLICT DO NOTHING;

-- Get the demo community ID
DO $$
DECLARE
  demo_community_id INTEGER;
BEGIN
  SELECT id INTO demo_community_id FROM communities WHERE is_demo = true LIMIT 1;
  
  -- ====================================
  -- 4. Demo Community Topics
  -- ====================================
  INSERT INTO community_posts (
    community_id,
    user_id,
    title,
    content,
    likes_count,
    comments_count,
    views_count,
    is_pinned,
    created_at,
    updated_at
  ) VALUES 
  (
    demo_community_id,
    1,
    'ูุฑุญุจุงู ุจู ูู ูุฌุชูุน ุจุฐุฑุฉ! ๐',
    E'ูุฑุญุจุงู ุจู ูู ูุฌุชูุน ุจุฐุฑุฉ ุงูุชุฌุฑูุจู!\n\nูุฐุง ุงููุฌุชูุน ูุตูู ููุณุงุนุฏุชู ุนูู ููู ููููุฉ ุนูู ุงููุฌุชูุนุงุช ุฏุงุฎู ููุตุฉ ุจุฐุฑุฉ.\n\n**ูุง ููููู ูุนูู ููุง:**\nโข ูุดุฑ ููุงุถูุน ุฌุฏูุฏุฉ\nโข ุงูุฑุฏ ุนูู ุงูููุงุถูุน ุงูุฃุฎุฑู\nโข ุงูุชูุงุนู ูุน ุงูุฃุนุถุงุก\nโข ูุดุงุฑูุฉ ุงูุฎุจุฑุงุช ูุงูุฃููุงุฑ\n\n**ุงููุฌุชูุนุงุช ุงูุฐูุจูุฉ:**\nุงููุดุชุฑููู ูู ุงูุจุงูุฉ ุงูุฐูุจูุฉ ูุงูุจูุงุชูููุฉ ูููููู ุงููุตูู ููุฌุชูุนุงุช ุญุตุฑูุฉ ูุน ูุญุชูู ูุชูุฏู ูููุงุดุงุช ูุชุฎุตุตุฉ.\n\nุฌุฑุจ ุงูุขู ูุงูุดุฑ ููุถูุนู ุงูุฃูู!',
    128,
    45,
    892,
    true,
    NOW(),
    NOW()
  ),
  (
    demo_community_id,
    1,
    'ููู ุชุณุชููุฏ ูู ุงูุชูููู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนูุ',
    E'ูุธุงู ุงูุชูููู ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู ูู ุจุฐุฑุฉ ูุณุงุนุฏู ุนูู ููู ููุงุท ุงูููุฉ ูุงูุถุนู ูู ููุฑุชู.\n\n**ุงููุญุงูุฑ ุงูุฎูุณุฉ ููุชูููู:**\n1. ุงููููุฉ ุงูุณูููุฉ\n2. ุงููุฎุงุทุฑ ุงููุญุชููุฉ\n3. ุงูุงุจุชูุงุฑ ูุงูุชููุฒ\n4. ูุงุจููุฉ ุงูุชูููุฐ\n5. ููุงุกูุฉ ุงูุณูู\n\nุงุญุตู ุนูู ุชูููู ุงุญุชุฑุงูู ูููุฑุชู ุงูุขู ูู ุตูุญุฉ "ุชูููู ุงูุฃููุงุฑ"!',
    67,
    23,
    456,
    false,
    NOW() - INTERVAL '1 day',
    NOW() - INTERVAL '1 day'
  ),
  (
    demo_community_id,
    1,
    'ูุธุงู ุงูุชูุงูุถ ุงูุฐูู - ููู ูุนููุ',
    E'ูุธุงู ุงูุชูุงูุถ ูู ุจุฐุฑุฉ ูุตูู ููููู ุนุงุฏูุงู ูุดูุงูุงู.\n\n**ููู ุชูุญุณุจ ุงูุฑุณููุ**\nุงูุฑุณูู = ุฑุณู ุฃุณุงุณู (2,000 ุฑูุงู) + (2% ูู ุงููุจูุบ ุงููุณุชูุฏู)\n\n**ุฃูุซูุฉ:**\nโข 100,000 ุฑูุงู โ 4,000 ุฑูุงู\nโข 200,000 ุฑูุงู โ 6,000 ุฑูุงู\nโข 500,000 ุฑูุงู โ 12,000 ุฑูุงู\n\n**ุฎุตููุงุช ุงูุงุดุชุฑุงูุงุช:**\nโข ุงููุถูุฉ: 5% ุฎุตู\nโข ุงูุฐูุจูุฉ: 10% ุฎุตู\nโข ุงูุจูุงุชูููุฉ: 20% ุฎุตู\n\nูู ุงููุถุน ุงูุชุฌุฑูุจูุ ุฌููุน ุงูุฑุณูู ุชูุณุชุฑุฏ ุชููุงุฆูุงู!',
    54,
    18,
    321,
    false,
    NOW() - INTERVAL '2 days',
    NOW() - INTERVAL '2 days'
  )
  ON CONFLICT DO NOTHING;
END $$;

-- ====================================
-- 5. Demo Event
-- ====================================
INSERT INTO events (
  title,
  description,
  event_date,
  location,
  capacity,
  current_attendees,
  ticket_price,
  is_demo,
  status,
  image_url,
  organizer_id,
  created_at,
  updated_at
) VALUES (
  'ูุนุฑุถ ุจุฐุฑุฉ ูููุดุงุฑูุน ุงููุงุดุฆุฉ 2025',
  E'ูุนุงููุฉ ุชุฌุฑูุจูุฉ ุชูุถุญ ููููุฉ ุนูู ุงููุนุงููุงุช ูู ููุตุฉ ุจุฐุฑุฉ.\n\n**ุนู ุงููุนุงููุฉ:**\nูุนุฑุถ ุณููู ูุฌูุน ุฑูุงุฏ ุงูุฃุนูุงู ูุงููุณุชุซูุฑูู ูุงูุฏุงุนููู ูู ููุงู ูุงุญุฏ.\n\n**ูุง ุณุชุญุตู ุนููู:**\nโข ุนุฑุถ ูุดุฑูุนู ุฃูุงู ูุณุชุซูุฑูู ุญูููููู\nโข ูุฑุด ุนูู ุชุฏุฑูุจูุฉ\nโข ูุฑุต ุชูุงุตู ูุน ุฑูุงุฏ ุฃุนูุงู\nโข ุฌูุณุงุช ุงุณุชุดุงุฑูุฉ ูุฌุงููุฉ\nโข ุฌูุงุฆุฒ ูููุดุงุฑูุน ุงููุชููุฒุฉ\n\n**ุงูุชูุงุตูู:**\n๐ ุงูุชุงุฑูุฎ: 15-17 ูุงุฑุณ 2025\n๐ ุงูููุงู: ูุฑูุฒ ุงูุฑูุงุถ ูููุนุงุฑุถ\n๐ซ ุงูุชุฐุงูุฑ: ูุชุงุญุฉ ุงูุขู\n\nูู ุงููุถุน ุงูุชุฌุฑูุจูุ ููููู ุญุฌุฒ ุชุฐูุฑุฉ ูุณุชูุณุชุฑุฏ ูููุชูุง ุชููุงุฆูุงู!',
  '2025-03-15 09:00:00',
  'ูุฑูุฒ ุงูุฑูุงุถ ูููุนุงุฑุถ',
  1000,
  450,
  500,
  true,
  'upcoming',
  '/images/demo-event.jpg',
  1,
  NOW(),
  NOW()
) ON CONFLICT DO NOTHING;

-- ====================================
-- 6. Update all users with demo wallet
-- ====================================
UPDATE users 
SET 
  demo_balance = 100000,
  demo_activated_at = NOW(),
  is_demo = true
WHERE demo_balance IS NULL OR demo_balance = 0;

-- ====================================
-- 7. Demo Wallet Transactions (for first user)
-- ====================================
DO $$
DECLARE
  first_user_id INTEGER;
  first_wallet_id INTEGER;
BEGIN
  SELECT id INTO first_user_id FROM users ORDER BY id LIMIT 1;
  SELECT id INTO first_wallet_id FROM wallets WHERE user_id = first_user_id LIMIT 1;
  
  -- Create wallet if doesn't exist
  IF first_wallet_id IS NULL THEN
    INSERT INTO wallets (user_id, balance, created_at, updated_at)
    VALUES (first_user_id, 100000, NOW(), NOW())
    RETURNING id INTO first_wallet_id;
  END IF;
  
  -- Add demo transactions
  INSERT INTO wallet_transactions (
    wallet_id,
    type,
    amount,
    description,
    status,
    is_demo,
    created_at
  ) VALUES 
  (
    first_wallet_id,
    'deposit',
    100000,
    'ุฑุตูุฏ ุงูุชุชุงุญู - ูุถุน ุชุฌุฑูุจู',
    'completed',
    true,
    NOW()
  ),
  (
    first_wallet_id,
    'investment',
    -5000,
    'ุฏุนู ูุดุฑูุน ุจุฐุฑุฉ - ุจุงูุฉ ุงูุจุฏุงูุฉ',
    'completed',
    true,
    NOW() - INTERVAL '1 hour'
  ),
  (
    first_wallet_id,
    'deposit_refund',
    5000,
    'ุงุณุชุฑุฏุงุฏ ุชููุงุฆู - ุฏุนู ูุดุฑูุน ุจุฐุฑุฉ',
    'completed',
    true,
    NOW() - INTERVAL '55 minutes'
  )
  ON CONFLICT DO NOTHING;
END $$;

-- ====================================
-- Success Message
-- ====================================
DO $$
BEGIN
  RAISE NOTICE 'โ Demo seeds completed successfully!';
  RAISE NOTICE '๐ Demo project, community, event, and transactions created';
  RAISE NOTICE '๐ฐ All users updated with 100,000 ุฑูุงู demo balance';
END $$;

