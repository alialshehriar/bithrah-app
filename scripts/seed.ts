import { db } from '../lib/db';
import { users, projects, communities, wallets } from '../lib/db/schema';
import { hash } from 'bcryptjs';

async function seed() {
  try {
    console.log('๐ฑ Starting database seeding...');

    // Hash password for all users
    const passwordHash = await hash('password123', 10);

    // Insert users
    console.log('๐ Inserting users...');
    const insertedUsers = await db.insert(users).values([
      {
        name: 'ูุญูุฏ ุงูุนุชูุจู',
        username: 'mohammed_alotaibi',
        email: 'mohammed@example.com',
        password: passwordHash,
        bio: 'ุฑุงุฆุฏ ุฃุนูุงู ุณุนูุฏู ููุชู ุจุงูุชูููุฉ ูุงูุงุจุชูุงุฑ',
        level: 5,
        points: 1250,
        totalBacked: 3,
        totalProjects: 2,
      },
      {
        name: 'ูุงุทูุฉ ุงูุฃุญูุฏ',
        username: 'fatima_ahmad',
        email: 'fatima@example.com',
        password: passwordHash,
        bio: 'ูุณุชุซูุฑุฉ ูู ุงููุดุงุฑูุน ุงููุงุดุฆุฉ ูููุชูุฉ ุจุงูุชุนููู',
        level: 4,
        points: 890,
        totalBacked: 5,
        totalProjects: 0,
      },
      {
        name: 'ุนุจุฏุงููู ุงูุณุงูู',
        username: 'abdullah_salem',
        email: 'abdullah@example.com',
        password: passwordHash,
        bio: 'ูุทูุฑ ุชุทุจููุงุช ููุคุณุณ ุดุฑูุฉ ูุงุดุฆุฉ',
        level: 6,
        points: 1680,
        totalBacked: 2,
        totalProjects: 3,
      },
      {
        name: 'ููุฑุฉ ุงููุญุทุงูู',
        username: 'noura_alqahtani',
        email: 'noura@example.com',
        password: passwordHash,
        bio: 'ูุตููุฉ ุฌุฑุงููู ูููุชูุฉ ุจุงููู ุงูุฑููู',
        level: 3,
        points: 520,
        totalBacked: 4,
        totalProjects: 1,
      },
      {
        name: 'ุฎุงูุฏ ุงููุทูุฑู',
        username: 'khaled_almutairi',
        email: 'khaled@example.com',
        password: passwordHash,
        bio: 'ูุณุชุดุงุฑ ุฃุนูุงู ููุฏุฑุจ ุฑูุงุฏุฉ ุฃุนูุงู',
        level: 7,
        points: 2150,
        totalBacked: 1,
        totalProjects: 4,
      },
      {
        name: 'ุณุงุฑุฉ ุงูุฏูุณุฑู',
        username: 'sara_aldosari',
        email: 'sara@example.com',
        password: passwordHash,
        bio: 'ุทุจูุจุฉ ูููุชูุฉ ุจุงูุตุญุฉ ุงูุฑูููุฉ',
        level: 4,
        points: 780,
        totalBacked: 3,
        totalProjects: 1,
      },
      {
        name: 'ุฃุญูุฏ ุงูุดูุฑู',
        username: 'ahmed_alshamari',
        email: 'ahmed@example.com',
        password: passwordHash,
        bio: 'ูููุฏุณ ุจุฑูุฌูุงุช ููุทูุฑ ุฃูุนุงุจ',
        level: 5,
        points: 1100,
        totalBacked: 2,
        totalProjects: 2,
      },
      {
        name: 'ูุฑูู ุงูุญุฑุจู',
        username: 'maryam_alharbi',
        email: 'maryam@example.com',
        password: passwordHash,
        bio: 'ูุนููุฉ ูููุชูุฉ ุจุชุทููุฑ ุงูุชุนููู',
        level: 3,
        points: 450,
        totalBacked: 2,
        totalProjects: 0,
      },
      {
        name: 'ููุณู ุงูููุฑ',
        username: 'youssef_alnemer',
        email: 'youssef@example.com',
        password: passwordHash,
        bio: 'ูุญูู ูุงูู ููุณุชุซูุฑ',
        level: 6,
        points: 1850,
        totalBacked: 4,
        totalProjects: 1,
      },
      {
        name: 'ูููุง ุงูุนูุฑู',
        username: 'lina_alamri',
        email: 'lina@example.com',
        password: passwordHash,
        bio: 'ูุงุชุจุฉ ููุฏููุฉ ุชูููุฉ',
        level: 4,
        points: 680,
        totalBacked: 3,
        totalProjects: 1,
      },
    ]).returning();

    console.log(`โ Inserted ${insertedUsers.length} users`);

    // Insert projects
    console.log('๐ Inserting projects...');
    const now = new Date();
    const insertedProjects = await db.insert(projects).values([
      {
        title: 'ููุตุฉ ุชุนููููุฉ ุชูุงุนููุฉ ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู',
        description: 'ููุตุฉ ุชุนููููุฉ ูุชูุฏูุฉ ุชุณุชุฎุฏู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชุฎุตูุต ุชุฌุฑุจุฉ ุงูุชุนูู ููู ุทุงูุจ ุจูุงุกู ุนูู ูุณุชูุงู ูุฃุณููุจ ุชุนููู. ุชูุฏู ุงูููุตุฉ ุฅูู ุชุญุณูู ุฌูุฏุฉ ุงูุชุนููู ูู ุงูููููุฉ ูุฌุนูู ุฃูุซุฑ ุชูุงุนููุฉ ููุนุงููุฉ.',
        category: 'education',
        fundingGoal: 500000,
        currentFunding: 332000,
        backersCount: 156,
        deadline: new Date(now.getTime() + 45 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[0].id,
        status: 'active',
      },
      {
        title: 'ุชุทุจูู ุตุญู ููุชุงุจุนุฉ ุงูุฃูุฑุงุถ ุงููุฒููุฉ',
        description: 'ุชุทุจูู ุฐูู ูุณุงุนุฏ ุงููุฑุถู ุนูู ูุชุงุจุนุฉ ุญุงูุชูู ุงูุตุญูุฉ ูุฃุฏููุชูู ุจุดูู ููููุ ูุน ุฅููุงููุฉ ุงูุชูุงุตู ูุน ุงูุฃุทุจุงุก ูุงูุญุตูู ุนูู ุงุณุชุดุงุฑุงุช ุทุจูุฉ ุนู ุจุนุฏ. ูุณุชูุฏู ุงูุชุทุจูู ูุฑุถู ุงูุณูุฑู ูุงูุถุบุท ุจุดูู ุฎุงุต.',
        category: 'health',
        fundingGoal: 300000,
        currentFunding: 185000,
        backersCount: 89,
        deadline: new Date(now.getTime() + 30 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[5].id,
        status: 'active',
      },
      {
        title: 'ููุตุฉ ุชุฌุงุฑุฉ ุฅููุชุฑูููุฉ ููููุชุฌุงุช ุงููุญููุฉ',
        description: 'ููุตุฉ ุชุฑุจุท ุงูููุชุฌูู ุงููุญูููู ุจุงููุณุชููููู ูุจุงุดุฑุฉุ ููุง ูุณุงุนุฏ ุนูู ุฏุนู ุงูุงูุชุตุงุฏ ุงููุญูู ูุชูููุฑ ููุชุฌุงุช ุทุงุฒุฌุฉ ูุนุงููุฉ ุงูุฌูุฏุฉ. ุชุดูู ุงูููุตุฉ ูุธุงู ุชูุตูู ุณุฑูุน ูุขูู.',
        category: 'business',
        fundingGoal: 400000,
        currentFunding: 268000,
        backersCount: 124,
        deadline: new Date(now.getTime() + 60 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[2].id,
        status: 'active',
      },
      {
        title: 'ุชุทุจูู ูุชุนูู ุงูุจุฑูุฌุฉ ููุฃุทูุงู',
        description: 'ุชุทุจูู ุชุนูููู ููุชุน ูุนูู ุงูุฃุทูุงู ุฃุณุงุณูุงุช ุงูุจุฑูุฌุฉ ูู ุฎูุงู ุงูุฃูุนุงุจ ูุงูุชุญุฏูุงุช ุงูุชูุงุนููุฉ. ูุณุชุฎุฏู ุงูุชุทุจูู ุฃุณููุจ ุงูุชุนูู ุจุงููุนุจ ูุฌุนู ุงูุจุฑูุฌุฉ ุณููุฉ ููุซูุฑุฉ ููุฃุทูุงู ูู ุนูุฑ 7-14 ุณูุฉ.',
        category: 'education',
        fundingGoal: 250000,
        currentFunding: 195000,
        backersCount: 112,
        deadline: new Date(now.getTime() + 40 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[6].id,
        status: 'active',
      },
      {
        title: 'ููุตุฉ ููุฑุจุท ุจูู ุงููุณุชูููู ูุงูุดุฑูุงุช',
        description: 'ููุตุฉ ุชุฑุจุท ุงููุญุชุฑููู ุงููุณุชูููู ูู ุงูุณุนูุฏูุฉ ุจุงูุดุฑูุงุช ุงูุชู ุชุญุชุงุฌ ุฎุฏูุงุชููุ ูุน ูุธุงู ุชูููู ุดูุงู ูุขูู ููุฏูุน. ุชูุฏู ุงูููุตุฉ ุฅูู ุฏุนู ุงูุชุตุงุฏ ุงูุนูู ุงูุญุฑ ูู ุงูููููุฉ.',
        category: 'business',
        fundingGoal: 350000,
        currentFunding: 142000,
        backersCount: 67,
        deadline: new Date(now.getTime() + 50 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[4].id,
        status: 'active',
      },
      {
        title: 'ุชุทุจูู ูููุงูุฉ ุงูุจุฏููุฉ ูุงูุชุบุฐูุฉ ุงูุตุญูุฉ',
        description: 'ุชุทุจูู ุดุงูู ูููุฑ ุจุฑุงูุฌ ุชูุงุฑูู ูุฎุตุตุฉ ูุฎุทุท ุชุบุฐูุฉ ุตุญูุฉ ุจูุงุกู ุนูู ุฃูุฏุงู ุงููุณุชุฎุฏู ูุญุงูุชู ุงูุตุญูุฉ. ูุชุถูู ุงูุชุทุจูู ูุชุงุจุนุฉ ููููุฉ ููุตุงุฆุญ ูู ูุฏุฑุจูู ูุญุชุฑููู.',
        category: 'health',
        fundingGoal: 200000,
        currentFunding: 156000,
        backersCount: 94,
        deadline: new Date(now.getTime() + 35 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[8].id,
        status: 'active',
      },
      {
        title: 'ููุตุฉ ูุญุฌุฒ ุงูููุงุนุจ ูุงูุตุงูุงุช ุงูุฑูุงุถูุฉ',
        description: 'ููุตุฉ ุชุณูู ุญุฌุฒ ุงูููุงุนุจ ูุงูุตุงูุงุช ุงูุฑูุงุถูุฉ ูู ุฌููุน ุฃูุญุงุก ุงูููููุฉุ ูุน ุฅููุงููุฉ ุงูุฏูุน ุงูุฅููุชุฑููู ูุชูููู ุงููุฑุงูู. ุชูุฏู ุงูููุตุฉ ุฅูู ุชุดุฌูุน ุงูุฑูุงุถุฉ ูุชุณููู ุงููุตูู ูููุฑุงูู ุงูุฑูุงุถูุฉ.',
        category: 'other',
        fundingGoal: 180000,
        currentFunding: 98000,
        backersCount: 52,
        deadline: new Date(now.getTime() + 25 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[3].id,
        status: 'active',
      },
      {
        title: 'ุชุทุจูู ูุชุนูู ุงููุบุงุช ุจุงูุฐูุงุก ุงูุงุตุทูุงุนู',
        description: 'ุชุทุจูู ูุณุชุฎุฏู ุงูุฐูุงุก ุงูุงุตุทูุงุนู ูุชุนููู ุงููุบุงุช ุจุทุฑููุฉ ุชูุงุนููุฉ ููุฎุตุตุฉุ ูุน ุงูุชุฑููุฒ ุนูู ุงููุญุงุฏุซุฉ ูุงูููุงุฑุณุฉ ุงูุนูููุฉ. ูุฏุนู ุงูุชุทุจูู ุงูุนุฏูุฏ ูู ุงููุบุงุช ููููุฑ ูุญุงุฏุซุงุช ูุน ุจูุช ุฐูู.',
        category: 'education',
        fundingGoal: 280000,
        currentFunding: 224000,
        backersCount: 138,
        deadline: new Date(now.getTime() + 55 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[9].id,
        status: 'active',
      },
      {
        title: 'ููุตุฉ ููุชุจุฑุนุงุช ุงูุฎูุฑูุฉ ุงูุดูุงูุฉ',
        description: 'ููุตุฉ ุชุณุชุฎุฏู ุชูููุฉ ุงูุจูููุดูู ูุถูุงู ุดูุงููุฉ ุงูุชุจุฑุนุงุช ุงูุฎูุฑูุฉ ูุชุชุจุน ูุตูููุง ูููุณุชููุฏูู. ุชูุฏู ุงูููุตุฉ ุฅูู ุฒูุงุฏุฉ ุงูุซูุฉ ูู ุงูุนูู ุงูุฎูุฑู ูุชุดุฌูุน ุงููุฒูุฏ ูู ุงูุชุจุฑุนุงุช.',
        category: 'other',
        fundingGoal: 320000,
        currentFunding: 176000,
        backersCount: 81,
        deadline: new Date(now.getTime() + 42 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[1].id,
        status: 'active',
      },
      {
        title: 'ุชุทุจูู ูุฅุฏุงุฑุฉ ุงููุดุงุฑูุน ุงูุตุบูุฑุฉ',
        description: 'ุชุทุจูู ูุณุงุนุฏ ุฃุตุญุงุจ ุงููุดุงุฑูุน ุงูุตุบูุฑุฉ ุนูู ุฅุฏุงุฑุฉ ูุดุงุฑูุนูู ุจููุงุกุฉุ ูู ูุชุงุจุนุฉ ุงููุจูุนุงุช ูุงููุฎุฒูู ุฅูู ุฅุฏุงุฑุฉ ุงูููุธููู ูุงูุนููุงุก. ูููุฑ ุงูุชุทุจูู ุชูุงุฑูุฑ ุชุญููููุฉ ููุตูุฉ.',
        category: 'business',
        fundingGoal: 220000,
        currentFunding: 132000,
        backersCount: 73,
        deadline: new Date(now.getTime() + 38 * 24 * 60 * 60 * 1000),
        creatorId: insertedUsers[7].id,
        status: 'active',
      },
    ]).returning();

    console.log(`โ Inserted ${insertedProjects.length} projects`);

    // Note: Support packages are stored as JSON in projects table

    // Insert communities
    console.log('๐ Inserting communities...');
    const insertedCommunities = await db.insert(communities).values([
      {
        name: 'ูุฌุชูุน ุฑูุงุฏ ุงูุชูููุฉ',
        description: 'ูุฌุชูุน ูููุงูุดุฉ ุฃุญุฏุซ ุงูุชูููุงุช ูุงูุงุจุชูุงุฑุงุช ูู ุงูููููุฉ',
        category: 'technology',
        membersCount: 1247,
        postsCount: 856,
        isPrivate: false,
        isGolden: false,
        creatorId: insertedUsers[0].id,
      },
      {
        name: 'ูุฌุชูุน ุงููุณุชุซูุฑูู',
        description: 'ูุฌุชูุน ุฎุงุต ูููุณุชุซูุฑูู ูููุงูุดุฉ ุงููุฑุต ุงูุงุณุชุซูุงุฑูุฉ',
        category: 'business',
        membersCount: 342,
        postsCount: 234,
        isPrivate: true,
        isGolden: true,
        creatorId: insertedUsers[4].id,
      },
      {
        name: 'ูุฌุชูุน ุงูุชุนููู ุงูุฑููู',
        description: 'ูุฌุชูุน ููููุชููู ุจุงูุชุนููู ุงูุฑููู ูุงูุชูููุงุช ุงูุชุนููููุฉ',
        category: 'education',
        membersCount: 892,
        postsCount: 567,
        isPrivate: false,
        isGolden: false,
        creatorId: insertedUsers[2].id,
      },
      {
        name: 'ูุฌุชูุน ุงูุตุญุฉ ูุงูุนุงููุฉ',
        description: 'ูุฌุชูุน ูููุงูุดุฉ ุงูุตุญุฉ ูุงูููุงูุฉ ุงูุจุฏููุฉ ูุงูุชุบุฐูุฉ',
        category: 'health',
        membersCount: 654,
        postsCount: 423,
        isPrivate: false,
        isGolden: false,
        creatorId: insertedUsers[5].id,
      },
      {
        name: 'ูุฌุชูุน ุฑูุงุฏุฉ ุงูุฃุนูุงู',
        description: 'ูุฌุชูุน ูุฑูุงุฏ ุงูุฃุนูุงู ูุชุจุงุฏู ุงูุฎุจุฑุงุช ูุงููุตุงุฆุญ',
        category: 'business',
        membersCount: 1089,
        postsCount: 712,
        isPrivate: false,
        isGolden: true,
        creatorId: insertedUsers[8].id,
      },
    ]).returning();

    console.log(`โ Inserted ${insertedCommunities.length} communities`);

    // Note: Achievements are user-specific and will be created when users earn them

    // Insert wallets for all users
    console.log('๐ Inserting wallets...');
    const walletsData = insertedUsers.map((user, i) => ({
      userId: user.id,
      balance: 1000 + i * 500,
      totalEarned: 2000 + i * 1000,
      totalSpent: 1000 + i * 500,
    }));

    await db.insert(wallets).values(walletsData);
    console.log(`โ Inserted ${walletsData.length} wallets`);

    console.log('๐ Database seeding completed successfully!');
    process.exit(0);
  } catch (error) {
    console.error('โ Error seeding database:', error);
    process.exit(1);
  }
}

seed();

