# ุชูุฑูุฑ ุงูุชูุฏู - ุชุญููู ุจุฐุฑุฉ ุฅูู ููุตุฉ ูุณุงุทุฉ ุฐููุฉ
## ุชุงุฑูุฎ ุงูุชุญุฏูุซ: 16 ุฃูุชูุจุฑ 2025

---

## โ ุงูููุชูู ุญุชู ุงูุขู

### 1. ูุงุนุฏุฉ ุงูุจูุงูุงุช (Database Schema) โ

#### ุฌุฏูู ุงููุดุงุฑูุน (projects) - 12 ุญูู ุฌุฏูุฏ:
- โ `platform_package` - ุจุงูุฉ ุงูููุตุฉ (basic/bithrah_plus)
- โ `public_description` - ูุตู ููุฒูุงุฑ (ุงููุณุชูู 1)
- โ `registered_description` - ูุตู ูููุณุฌููู (ุงููุณุชูู 2)
- โ `full_description` - ูุตู ูุงูู ููููุงูุถูู (ุงููุณุชูู 3)
- โ `confidential_docs` - ูุณุชูุฏุงุช ุณุฑูุฉ (JSONB)
- โ `negotiation_enabled` - ุชูุนูู/ุชุนุทูู ุงูุชูุงูุถ
- โ `negotiation_deposit` - ูุจูุบ ุงูุฌุฏูุฉ ููุชูุงูุถ
- โ `funding_duration` - ูุฏุฉ ุงูุตูุฏูู (60 ููู ุงูุชุฑุงุถูุงู)
- โ `funding_start_date` - ุชุงุฑูุฎ ุจุฏุก ุงูุตูุฏูู
- โ `funding_end_date` - ุชุงุฑูุฎ ุงูุชูุงุก ุงูุตูุฏูู
- โ `auto_refund_on_failure` - ุงุณุชุฑุฏุงุฏ ุชููุงุฆู ุนูุฏ ุงููุดู
- โ `payment_gateway_fee` - ุนูููุฉ ุจูุงุจุฉ ุงูุฏูุน (2%)

#### ุฌุฏูู ุงูุฏุนู (backings) - 3 ุญููู ุฌุฏูุฏุฉ:
- โ `referrer_id` - ูุนุฑู ุงููุณูู ุงูููุญูู
- โ `marketing_commission` - ุนูููุฉ ุงูุชุณููู (0.5%)
- โ `commission_paid` - ุญุงูุฉ ุฏูุน ุงูุนูููุฉ

#### ุฌุฏูู ุงูุชูุงูุถ (negotiations) - 4 ุญููู ุฌุฏูุฏุฉ:
- โ `deposit_amount` - ูุจูุบ ุงูุฌุฏูุฉ (ูุณุชุฑุฏ)
- โ `deposit_status` - ุญุงูุฉ ุงูุฅูุฏุงุน (held/refunded/forfeited)
- โ `deposit_refunded_at` - ุชุงุฑูุฎ ุงูุงุณุชุฑุฏุงุฏ
- โ `has_full_access` - ูุตูู ูุงูู ููุชูุงุตูู ุงูุณุฑูุฉ

#### ุฌุฏุงูู ุฌุฏูุฏุฉ:
- โ `nda_agreements` - ุงุชูุงููุงุช ุนุฏู ุงูุฅูุดุงุก
  - ูุนูููุงุช ุงููุณุชุฎุฏู ูุงููุดุฑูุน
  - ูุต ุงูุงุชูุงููุฉ ูุงูุฅุตุฏุงุฑ
  - ุชูููุน ุฑููู (IP, User Agent, Timestamp)
  - ุญุงูุฉ ุงูุงุชูุงููุฉ (active/revoked/expired)

- โ `project_access_logs` - ุณุฌู ุงููุตูู ูููุดุงุฑูุน
  - ุชุชุจุน ูู ูุตู ูููุดุฑูุน
  - ูุณุชูู ุงููุตูู (public/registered/negotiator)
  - ููุน ุงููุตูู (view/download/share)
  - ูุนูููุงุช ุงูุณูุงู (IP, User Agent, Referrer)

- โ **ุฌููุน ุงูููุงุฑุณ (Indexes)** ูุชุญุณูู ุงูุฃุฏุงุก

---

### 2. ูุธุงู ุงูุชุญูู ูู ุงููุตูู (Access Control) โ

#### ููู: `/lib/access-control.ts`

**ุงููุธุงุฆู ุงูุฑุฆูุณูุฉ:**

1. โ `getUserAccessLevel()` - ุชุญุฏูุฏ ูุณุชูู ูุตูู ุงููุณุชุฎุฏู
   - public: ุฒุงุฆุฑ ุบูุฑ ูุณุฌู
   - registered: ูุณุฌู + ูููุน NDA
   - negotiator: ูุชุญ ุจูุงุจุฉ ุงูุชูุงูุถ + ุฏูุน ุงูุฌุฏูุฉ

2. โ `filterProjectByAccessLevel()` - ุชุตููุฉ ุจูุงูุงุช ุงููุดุฑูุน ุญุณุจ ุงููุณุชูู
   - ุงููุณุชูู 1: ูุนูููุงุช ุนุงูุฉ ููุท
   - ุงููุณุชูู 2: + ุชูุงุตูู + ุจุงูุงุช + ูุฑูู
   - ุงููุณุชูู 3: + ูู ุงูุชูุงุตูู ุงูุณุฑูุฉ

3. โ `logProjectAccess()` - ุชุณุฌูู ุงููุตูู ูููุดุงุฑูุน
   - ุชุชุจุน ูู ุฒูุงุฑุฉ
   - ุชุญูููุงุช ูุฃูุงู

4. โ `needsNDASignature()` - ุงูุชุญูู ูู ุงูุญุงุฌุฉ ูุชูููุน NDA

5. โ `getNDAText()` - ุงูุญุตูู ุนูู ูุต ุงุชูุงููุฉ ุนุฏู ุงูุฅูุดุงุก

6. โ `calculateMarketingCommission()` - ุญุณุงุจ ุนูููุฉ ุงูุชุณููู (0.5%)

7. โ `calculatePlatformFees()` - ุญุณุงุจ ุฑุณูู ุงูููุตุฉ
   - Basic: 6.5% (6% ุตุงูู + 0.5% ุชุณููู)
   - Bithrah Plus: 3% + 2% ุดุฑุงูุฉ (2.5% ุตุงูู + 0.5% ุชุณููู)

8. โ `isFundingExpired()` - ุงูุชุญูู ูู ุงูุชูุงุก ูุฏุฉ ุงูุตูุฏูู

9. โ `isFundingComplete()` - ุงูุชุญูู ูู ุงูุชูุงู ุงูุชูููู

10. โ `calculateRefundAmount()` - ุญุณุงุจ ูุจูุบ ุงูุงุณุชุฑุฏุงุฏ (98%)

---

### 3. APIs ุงูุฌุฏูุฏุฉ โ

#### 3.1 ุงุชูุงููุฉ ุนุฏู ุงูุฅูุดุงุก (NDA)

**ููู:** `/app/api/nda/text/route.ts`
- โ `GET /api/nda/text` - ุงูุญุตูู ุนูู ูุต ุงูุงุชูุงููุฉ

**ููู:** `/app/api/nda/sign/route.ts`
- โ `POST /api/nda/sign` - ุชูููุน ุงูุงุชูุงููุฉ
- โ `GET /api/nda/sign` - ุนุฑุถ ุงูุงุชูุงููุงุช ุงููููุนุฉ

#### 3.2 ุนุฑุถ ุงููุดุงุฑูุน ุญุณุจ ูุณุชูู ุงููุตูู

**ููู:** `/app/api/projects/[id]/view/route.ts`
- โ `GET /api/projects/[id]/view` - ุนุฑุถ ูุดุฑูุน ูุน ุชุตููุฉ ุญุณุจ ุงููุณุชูู
- โ ุชุณุฌูู ุชููุงุฆู ูููุตูู
- โ ุฅุฑุฌุงุน ูุนูููุงุช ุงููุณุชูู ูุงูุตูุงุญูุงุช

#### 3.3 ูุธุงู ุงูุชูุงูุถ

**ููู:** `/app/api/negotiations/open/route.ts`
- โ `POST /api/negotiations/open` - ูุชุญ ุจูุงุจุฉ ุงูุชูุงูุถ
  - ุงูุชุญูู ูู ุงูุตูุงุญูุงุช
  - ุฅูุดุงุก ุทูุจ ุชูุงูุถ
  - ุชุญุฏูุฏ ูุจูุบ ุงูุฌุฏูุฉ
  - ุชุญุฏูุฏ ูุฏุฉ 3 ุฃูุงู

- โ `PUT /api/negotiations/open` - ุชุฃููุฏ ุฏูุน ุงูุฌุฏูุฉ
  - ุชูุนูู ุงูุชูุงูุถ
  - ููุญ ูุตูู ูุงูู
  - ุชุญุฏูุซ ุญุงูุฉ ุงูุฅูุฏุงุน

---

### 4. ุงูุชูุซูู โ

#### ููู: `/home/ubuntu/bithrah-app/API_DOCUMENTATION.md`
- โ ุชูุซูู ุดุงูู ูุฌููุน APIs
- โ ุฃูุซูุฉ ุนูููุฉ
- โ ุดุฑุญ ูุธุงู ุงูุนูููุงุช
- โ ุดุฑุญ ูุธุงู ุงูุตูุฏูู ุงูุฒููู
- โ ุฃูุซูุฉ ุฑุญูุฉ ุงููุณุชุฎุฏู

#### ููู: `/home/ubuntu/bithrah-app/PLATFORM_CONCEPT.md`
- โ ุดุฑุญ ููุตู ูููููู ุงูููุตุฉ
- โ ุงููุฑู ุจูู ุงููุณุงุทุฉ ูุงูุชูููู ุงูุฌูุงุนู
- โ ุงูุฃุทุฑุงู ุงูุฃุฑุจุนุฉ
- โ ูุธุงู ุงูุนูููุงุช
- โ ูุธุงู ุญูุงูุฉ ุงูููููุฉ ุงูููุฑูุฉ

---

## ๐ ููุฏ ุงูุชูููุฐ

### ุงููุฑุญูุฉ ุงูุญุงููุฉ: ุชุญุฏูุซ ุงููุงุฌูุงุช (UI/UX)

**ุงููุทููุจ:**

1. โณ ุชุญุฏูุซ ุตูุญุฉ ุนุฑุถ ุงููุดุฑูุน
   - ุนุฑุถ ูุญุชูู ูุฎุชูู ุญุณุจ ูุณุชูู ุงููุตูู
   - ุฒุฑ "ุชูููุน ุงุชูุงููุฉ ุนุฏู ุงูุฅูุดุงุก"
   - ุฒุฑ "ูุชุญ ุจูุงุจุฉ ุงูุชูุงูุถ"
   - ุนุฑุถ ุงูุจุงูุงุช ูููุณุชุฎุฏููู ุงููุณุฌููู
   - ุนุฑุถ ุงูุชูุงุตูู ุงูุณุฑูุฉ ููููุงูุถูู

2. โณ ุตูุญุฉ ุชูููุน NDA
   - ุนุฑุถ ูุต ุงูุงุชูุงููุฉ
   - ูููุฐุฌ ุงูููุงููุฉ
   - ุชุฃููุฏ ุงูุชูููุน

3. โณ ุตูุญุฉ ูุชุญ ุงูุชูุงูุถ
   - ุนุฑุถ ูุจูุบ ุงูุฌุฏูุฉ
   - ุดุฑุญ ุงูุนูููุฉ (3 ุฃูุงู)
   - ุจูุงุจุฉ ุงูุฏูุน
   - ุชุฃููุฏ ุงูุฏูุน

4. โณ ุชุญุฏูุซ ุตูุญุฉ ุฅูุดุงุก ุงููุดุฑูุน
   - 3 ุญููู ูููุตู (public, registered, full)
   - ุฑูุน ูุณุชูุฏุงุช ุณุฑูุฉ
   - ุชูุนูู/ุชุนุทูู ุงูุชูุงูุถ
   - ุชุญุฏูุฏ ูุจูุบ ุงูุฌุฏูุฉ
   - ุงุฎุชูุงุฑ ุจุงูุฉ ุงูููุตุฉ (Basic/Bithrah Plus)

5. โณ ููุญุฉ ุงููุณูู
   - ุฑุงุจุท ุงูุฅุญุงูุฉ
   - ุฅุญุตุงุฆูุงุช ุงูุนูููุงุช
   - ุงููุดุงุฑูุน ุงููุฑููุฌุฉ

6. โณ ููุญุฉ ุงูุชูุงูุถ
   - ุงููุญุงุฏุซุงุช
   - ุงููุณุชูุฏุงุช ุงููุดุชุฑูุฉ
   - ุญุงูุฉ ุงูุชูุงูุถ
   - ุงูุนุฏ ุงูุชูุงุฒูู (3 ุฃูุงู)

---

## ๐ ุงููุชุจูู

### ุงููุฑุญูุฉ 4: ุชุญุฏูุซ UI/UX โณ
- ุชุญุฏูุซ ุงููุงุฌูุงุช ูุชุนูุณ ุงูููููู ุงูุฌุฏูุฏ
- ุฅุถุงูุฉ ุตูุญุงุช ุฌุฏูุฏุฉ (NDA, ุงูุชูุงูุถ, ุงูุชุณููู)

### ุงููุฑุญูุฉ 5: ุงููููุฉ ุงูุจุตุฑูุฉ ๐
- ุฅุฒุงูุฉ ุงูุฅูููุฌู ูู ุฌููุน ุงููุงุฌูุงุช
- ุชุทุจูู ุชุตููู ุงุญุชุฑุงูู
- ุงุณุชุฎุฏุงู ุงูุฃููููุงุช ุงูููุงุณุจุฉ

### ุงููุฑุญูุฉ 6: ุงูุงุฎุชุจุงุฑ ๐
- ุงุฎุชุจุงุฑ ุฌููุน ุงูุฃูุธูุฉ
- ุงูุชุฃูุฏ ูู ุงูุชูุงูู
- ุงุฎุชุจุงุฑ ุงูุฃูุงู

### ุงููุฑุญูุฉ 7: ุงููุดุฑ ๐
- ุฑูุน ุงูุชุญุฏูุซุงุช ุฅูู GitHub
- ุงููุดุฑ ุนูู bithrahapp.com
- ุชุญุฏูุซ DNS

### ุงููุฑุญูุฉ 8: ุงูุชูุฑูุฑ ุงูููุงุฆู ๐
- ุชูุฑูุฑ ุดุงูู ุจุฌููุน ุงูุชุญุฏูุซุงุช
- ุฏููู ุงูุงุณุชุฎุฏุงู
- ููุงุญุธุงุช ูููุฉ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

- **ูุงุนุฏุฉ ุงูุจูุงูุงุช:** 19 ุญูู ุฌุฏูุฏ + 2 ุฌุฏูู ุฌุฏูุฏ โ
- **APIs:** 5 endpoints ุฌุฏูุฏุฉ โ
- **ูุธุงุฆู ูุณุงุนุฏุฉ:** 10 ูุธุงุฆู โ
- **ุงูุชูุซูู:** 2 ููู ุดุงูู โ
- **ุงูุชูุฏู ุงูุฅุฌูุงูู:** ~40%

---

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. ุชุญุฏูุซ ูุงุฌูุฉ ุนุฑุถ ุงููุดุฑูุน
2. ุฅูุดุงุก ุตูุญุฉ ุชูููุน NDA
3. ุฅูุดุงุก ุตูุญุฉ ูุชุญ ุงูุชูุงูุถ
4. ุชุญุฏูุซ ุตูุญุฉ ุฅูุดุงุก ุงููุดุฑูุน
5. ุฅูุดุงุก ููุญุฉ ุงููุณูู
6. ุฅูุดุงุก ููุญุฉ ุงูุชูุงูุถ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 16 ุฃูุชูุจุฑ 2025 - 21:45 GMT+3

