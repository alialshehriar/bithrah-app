import { NextRequest, NextResponse } from 'next/server';
import { db } from '@/lib/db';
import { supportPackages } from '@/lib/db/schema';
import { eq, asc } from 'drizzle-orm';

// Hardcoded demo packages for exhibition
const DEMO_PACKAGES: Record<number, any[]> = {
  23: [
    {
      id: 1001,
      projectId: 23,
      name: 'ุงูุฏุงุนู ุงููุจูุฑ',
      description: 'ูู ูู ุฃูุงุฆู ุงูุฏุงุนููู ูุงุญุตู ุนูู ุงูุชูุงุฒุงุช ุญุตุฑูุฉ',
      amount: 200,
      features: [
        'โจ ุดูุฑ ุฎุงุต ูู ุตูุญุฉ ุงููุดุฑูุน',
        '๐ง ุชุญุฏูุซุงุช ุญุตุฑูุฉ ุนู ุชูุฏู ุงููุดุฑูุน',
        '๐ ูุฏูุฉ ุชุฐูุงุฑูุฉ ูู ุงููุดุฑูุน',
        'โญ ุดุงุฑุฉ "ุฏุงุนู ูุจูุฑ" ูู ุญุณุงุจู'
      ],
      maxBackers: 100,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 1002,
      projectId: 23,
      name: 'ุงูุฏุงุนู ุงูุจุฑููุฒู',
      description: 'ุฏุนู ุฃุณุงุณู ูุน ูุฒุงูุง ุฅุถุงููุฉ ููุตูู ูุจูุฑ',
      amount: 1000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุจูุฑ',
        '๐ ูุตูู ูุจูุฑ ููููุชุฌ ูุจู ุงูุฅุทูุงู ุงูุฑุณูู',
        '๐ฐ ุฎุตู 10% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุฉ',
        '๐ฑ ุฏุนูุฉ ูุญุถูุฑ ูุนุงููุฉ ุงูุฅุทูุงู',
        '๐ฏ ุฃููููุฉ ูู ุงูุฏุนู ุงูููู'
      ],
      maxBackers: 50,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 1003,
      projectId: 23,
      name: 'ุงูุฏุงุนู ุงููุถู',
      description: 'ุฏุนู ูุชูุณุท ูุน ูุฒุงูุง ุญุตุฑูุฉ ูุงุณุชุดุงุฑุฉ ูุฌุงููุฉ',
      amount: 2500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุจุฑููุฒู',
        '๐ผ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน (ุณุงุนุฉ ูุงุญุฏุฉ)',
        '๐ฐ ุฎุตู 15% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุชูู',
        '๐ ุญููุจุฉ ูุฏุงูุง ุญุตุฑูุฉ ูู ุงููุดุฑูุน',
        '๐ ุชูุฑูุฑ ุดูุฑู ุนู ุฃุฏุงุก ุงููุดุฑูุน',
        '๐ ุฐูุฑ ุงุณูู ูู ูุณู "ุงูุฏุงุนููู ุงููููุฒูู"'
      ],
      maxBackers: 30,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 1004,
      projectId: 23,
      name: 'ุงูุฏุงุนู ุงูุฐูุจู',
      description: 'ุฏุนู ูุจูุฑ ูุน ูุฒุงูุง ูููุฒุฉ ูุฐูุฑ ูู ุงูุดุฑูุงุก',
      amount: 7500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุถู',
        '๐ผ 3 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน',
        '๐ฐ ุฎุตู 20% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ 3 ุณููุงุช',
        '๐ค ุฐูุฑ ุงุณูู/ุดุฑูุชู ูู ุตูุญุฉ ุงูุดุฑูุงุก',
        '๐ข ุฐูุฑ ูู ุฌููุน ุงูููุงุฏ ุงูุชุณููููุฉ',
        '๐ค ุฏุนูุฉ VIP ูุฌููุน ุงููุนุงููุงุช',
        '๐ ูุตูู ุญุตุฑู ูุจูุงูุงุช ุงููุดุฑูุน ูููุญุฉ ุงูุชุญูู'
      ],
      maxBackers: 15,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 1005,
      projectId: 23,
      name: 'ุงูุฏุงุนู ุงูุจูุงุชููู',
      description: 'ุฏุนู ูุชููุฒ ูุน ูุฒุงูุง ุงุณุชุซูุงุฆูุฉ ูุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ',
      amount: 15000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุฐูุจู',
        '๐ผ 10 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ + ุฏุนู ูุฎุตุต',
        '๐ฐ ุฎุตู 30% ุนูู ุฌููุน ุงูุฎุฏูุงุช ูุฏู ุงูุญูุงุฉ',
        '๐ค ุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ ูุน ุงููุดุฑูุน',
        '๐ ููุนุฏ ูู ุงููุฌูุณ ุงูุงุณุชุดุงุฑู ูููุดุฑูุน',
        '๐ ููุฌู ุดุฑูุชู ุนูู ุงููููุน ูุงูุชุทุจูู',
        '๐ฏ ุฃููููุฉ ูุตูู ูู ุฌููุน ุงูุฎุฏูุงุช',
        '๐ ุดูุงุฏุฉ ุชูุฏูุฑ ุฑุณููุฉ ูู ุงููุดุฑูุน'
      ],
      maxBackers: 10,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    }
  ],
  24: [
    {
      id: 2001,
      projectId: 24,
      name: 'ุงูุฏุงุนู ุงููุจูุฑ',
      description: 'ูู ูู ุฃูุงุฆู ุงูุฏุงุนููู ูุงุญุตู ุนูู ุงูุชูุงุฒุงุช ุญุตุฑูุฉ',
      amount: 200,
      features: [
        'โจ ุดูุฑ ุฎุงุต ูู ุตูุญุฉ ุงููุดุฑูุน',
        '๐ง ุชุญุฏูุซุงุช ุญุตุฑูุฉ ุนู ุชูุฏู ุงููุดุฑูุน',
        '๐ ูุฏูุฉ ุชุฐูุงุฑูุฉ ูู ุงููุดุฑูุน',
        'โญ ุดุงุฑุฉ "ุฏุงุนู ูุจูุฑ" ูู ุญุณุงุจู'
      ],
      maxBackers: 100,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 2002,
      projectId: 24,
      name: 'ุงูุฏุงุนู ุงูุจุฑููุฒู',
      description: 'ุฏุนู ุฃุณุงุณู ูุน ูุฒุงูุง ุฅุถุงููุฉ ููุตูู ูุจูุฑ',
      amount: 1000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุจูุฑ',
        '๐ ูุตูู ูุจูุฑ ููููุชุฌ ูุจู ุงูุฅุทูุงู ุงูุฑุณูู',
        '๐ฐ ุฎุตู 10% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุฉ',
        '๐ฑ ุฏุนูุฉ ูุญุถูุฑ ูุนุงููุฉ ุงูุฅุทูุงู',
        '๐ฏ ุฃููููุฉ ูู ุงูุฏุนู ุงูููู'
      ],
      maxBackers: 50,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 2003,
      projectId: 24,
      name: 'ุงูุฏุงุนู ุงููุถู',
      description: 'ุฏุนู ูุชูุณุท ูุน ูุฒุงูุง ุญุตุฑูุฉ ูุงุณุชุดุงุฑุฉ ูุฌุงููุฉ',
      amount: 2500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุจุฑููุฒู',
        '๐ผ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน (ุณุงุนุฉ ูุงุญุฏุฉ)',
        '๐ฐ ุฎุตู 15% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุชูู',
        '๐ ุญููุจุฉ ูุฏุงูุง ุญุตุฑูุฉ ูู ุงููุดุฑูุน',
        '๐ ุชูุฑูุฑ ุดูุฑู ุนู ุฃุฏุงุก ุงููุดุฑูุน',
        '๐ ุฐูุฑ ุงุณูู ูู ูุณู "ุงูุฏุงุนููู ุงููููุฒูู"'
      ],
      maxBackers: 30,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 2004,
      projectId: 24,
      name: 'ุงูุฏุงุนู ุงูุฐูุจู',
      description: 'ุฏุนู ูุจูุฑ ูุน ูุฒุงูุง ูููุฒุฉ ูุฐูุฑ ูู ุงูุดุฑูุงุก',
      amount: 7500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุถู',
        '๐ผ 3 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน',
        '๐ฐ ุฎุตู 20% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ 3 ุณููุงุช',
        '๐ค ุฐูุฑ ุงุณูู/ุดุฑูุชู ูู ุตูุญุฉ ุงูุดุฑูุงุก',
        '๐ข ุฐูุฑ ูู ุฌููุน ุงูููุงุฏ ุงูุชุณููููุฉ',
        '๐ค ุฏุนูุฉ VIP ูุฌููุน ุงููุนุงููุงุช',
        '๐ ูุตูู ุญุตุฑู ูุจูุงูุงุช ุงููุดุฑูุน ูููุญุฉ ุงูุชุญูู'
      ],
      maxBackers: 15,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 2005,
      projectId: 24,
      name: 'ุงูุฏุงุนู ุงูุจูุงุชููู',
      description: 'ุฏุนู ูุชููุฒ ูุน ูุฒุงูุง ุงุณุชุซูุงุฆูุฉ ูุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ',
      amount: 15000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุฐูุจู',
        '๐ผ 10 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ + ุฏุนู ูุฎุตุต',
        '๐ฐ ุฎุตู 30% ุนูู ุฌููุน ุงูุฎุฏูุงุช ูุฏู ุงูุญูุงุฉ',
        '๐ค ุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ ูุน ุงููุดุฑูุน',
        '๐ ููุนุฏ ูู ุงููุฌูุณ ุงูุงุณุชุดุงุฑู ูููุดุฑูุน',
        '๐ ููุฌู ุดุฑูุชู ุนูู ุงููููุน ูุงูุชุทุจูู',
        '๐ฏ ุฃููููุฉ ูุตูู ูู ุฌููุน ุงูุฎุฏูุงุช',
        '๐ ุดูุงุฏุฉ ุชูุฏูุฑ ุฑุณููุฉ ูู ุงููุดุฑูุน'
      ],
      maxBackers: 10,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    }
  ],
  25: [
    {
      id: 3001,
      projectId: 25,
      name: 'ุงูุฏุงุนู ุงููุจูุฑ',
      description: 'ูู ูู ุฃูุงุฆู ุงูุฏุงุนููู ูุงุญุตู ุนูู ุงูุชูุงุฒุงุช ุญุตุฑูุฉ',
      amount: 200,
      features: [
        'โจ ุดูุฑ ุฎุงุต ูู ุตูุญุฉ ุงููุดุฑูุน',
        '๐ง ุชุญุฏูุซุงุช ุญุตุฑูุฉ ุนู ุชูุฏู ุงููุดุฑูุน',
        '๐ ูุฏูุฉ ุชุฐูุงุฑูุฉ ูู ุงููุดุฑูุน',
        'โญ ุดุงุฑุฉ "ุฏุงุนู ูุจูุฑ" ูู ุญุณุงุจู'
      ],
      maxBackers: 100,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 3002,
      projectId: 25,
      name: 'ุงูุฏุงุนู ุงูุจุฑููุฒู',
      description: 'ุฏุนู ุฃุณุงุณู ูุน ูุฒุงูุง ุฅุถุงููุฉ ููุตูู ูุจูุฑ',
      amount: 1000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุจูุฑ',
        '๐ ูุตูู ูุจูุฑ ููููุชุฌ ูุจู ุงูุฅุทูุงู ุงูุฑุณูู',
        '๐ฐ ุฎุตู 10% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุฉ',
        '๐ฑ ุฏุนูุฉ ูุญุถูุฑ ูุนุงููุฉ ุงูุฅุทูุงู',
        '๐ฏ ุฃููููุฉ ูู ุงูุฏุนู ุงูููู'
      ],
      maxBackers: 50,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 3003,
      projectId: 25,
      name: 'ุงูุฏุงุนู ุงููุถู',
      description: 'ุฏุนู ูุชูุณุท ูุน ูุฒุงูุง ุญุตุฑูุฉ ูุงุณุชุดุงุฑุฉ ูุฌุงููุฉ',
      amount: 2500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุจุฑููุฒู',
        '๐ผ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน (ุณุงุนุฉ ูุงุญุฏุฉ)',
        '๐ฐ ุฎุตู 15% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุชูู',
        '๐ ุญููุจุฉ ูุฏุงูุง ุญุตุฑูุฉ ูู ุงููุดุฑูุน',
        '๐ ุชูุฑูุฑ ุดูุฑู ุนู ุฃุฏุงุก ุงููุดุฑูุน',
        '๐ ุฐูุฑ ุงุณูู ูู ูุณู "ุงูุฏุงุนููู ุงููููุฒูู"'
      ],
      maxBackers: 30,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 3004,
      projectId: 25,
      name: 'ุงูุฏุงุนู ุงูุฐูุจู',
      description: 'ุฏุนู ูุจูุฑ ูุน ูุฒุงูุง ูููุฒุฉ ูุฐูุฑ ูู ุงูุดุฑูุงุก',
      amount: 7500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุถู',
        '๐ผ 3 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน',
        '๐ฐ ุฎุตู 20% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ 3 ุณููุงุช',
        '๐ค ุฐูุฑ ุงุณูู/ุดุฑูุชู ูู ุตูุญุฉ ุงูุดุฑูุงุก',
        '๐ข ุฐูุฑ ูู ุฌููุน ุงูููุงุฏ ุงูุชุณููููุฉ',
        '๐ค ุฏุนูุฉ VIP ูุฌููุน ุงููุนุงููุงุช',
        '๐ ูุตูู ุญุตุฑู ูุจูุงูุงุช ุงููุดุฑูุน ูููุญุฉ ุงูุชุญูู'
      ],
      maxBackers: 15,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 3005,
      projectId: 25,
      name: 'ุงูุฏุงุนู ุงูุจูุงุชููู',
      description: 'ุฏุนู ูุชููุฒ ูุน ูุฒุงูุง ุงุณุชุซูุงุฆูุฉ ูุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ',
      amount: 15000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุฐูุจู',
        '๐ผ 10 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ + ุฏุนู ูุฎุตุต',
        '๐ฐ ุฎุตู 30% ุนูู ุฌููุน ุงูุฎุฏูุงุช ูุฏู ุงูุญูุงุฉ',
        '๐ค ุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ ูุน ุงููุดุฑูุน',
        '๐ ููุนุฏ ูู ุงููุฌูุณ ุงูุงุณุชุดุงุฑู ูููุดุฑูุน',
        '๐ ููุฌู ุดุฑูุชู ุนูู ุงููููุน ูุงูุชุทุจูู',
        '๐ฏ ุฃููููุฉ ูุตูู ูู ุฌููุน ุงูุฎุฏูุงุช',
        '๐ ุดูุงุฏุฉ ุชูุฏูุฑ ุฑุณููุฉ ูู ุงููุดุฑูุน'
      ],
      maxBackers: 10,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    }
  ],
  26: [
    {
      id: 4001,
      projectId: 26,
      name: 'ุงูุฏุงุนู ุงููุจูุฑ',
      description: 'ูู ูู ุฃูุงุฆู ุงูุฏุงุนููู ูุงุญุตู ุนูู ุงูุชูุงุฒุงุช ุญุตุฑูุฉ',
      amount: 200,
      features: [
        'โจ ุดูุฑ ุฎุงุต ูู ุตูุญุฉ ุงููุดุฑูุน',
        '๐ง ุชุญุฏูุซุงุช ุญุตุฑูุฉ ุนู ุชูุฏู ุงููุดุฑูุน',
        '๐ ูุฏูุฉ ุชุฐูุงุฑูุฉ ูู ุงููุดุฑูุน',
        'โญ ุดุงุฑุฉ "ุฏุงุนู ูุจูุฑ" ูู ุญุณุงุจู'
      ],
      maxBackers: 100,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 4002,
      projectId: 26,
      name: 'ุงูุฏุงุนู ุงูุจุฑููุฒู',
      description: 'ุฏุนู ุฃุณุงุณู ูุน ูุฒุงูุง ุฅุถุงููุฉ ููุตูู ูุจูุฑ',
      amount: 1000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุจูุฑ',
        '๐ ูุตูู ูุจูุฑ ููููุชุฌ ูุจู ุงูุฅุทูุงู ุงูุฑุณูู',
        '๐ฐ ุฎุตู 10% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุฉ',
        '๐ฑ ุฏุนูุฉ ูุญุถูุฑ ูุนุงููุฉ ุงูุฅุทูุงู',
        '๐ฏ ุฃููููุฉ ูู ุงูุฏุนู ุงูููู'
      ],
      maxBackers: 50,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 4003,
      projectId: 26,
      name: 'ุงูุฏุงุนู ุงููุถู',
      description: 'ุฏุนู ูุชูุณุท ูุน ูุฒุงูุง ุญุตุฑูุฉ ูุงุณุชุดุงุฑุฉ ูุฌุงููุฉ',
      amount: 2500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุจุฑููุฒู',
        '๐ผ ุงุณุชุดุงุฑุฉ ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน (ุณุงุนุฉ ูุงุญุฏุฉ)',
        '๐ฐ ุฎุตู 15% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ ุณูุชูู',
        '๐ ุญููุจุฉ ูุฏุงูุง ุญุตุฑูุฉ ูู ุงููุดุฑูุน',
        '๐ ุชูุฑูุฑ ุดูุฑู ุนู ุฃุฏุงุก ุงููุดุฑูุน',
        '๐ ุฐูุฑ ุงุณูู ูู ูุณู "ุงูุฏุงุนููู ุงููููุฒูู"'
      ],
      maxBackers: 30,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 4004,
      projectId: 26,
      name: 'ุงูุฏุงุนู ุงูุฐูุจู',
      description: 'ุฏุนู ูุจูุฑ ูุน ูุฒุงูุง ูููุฒุฉ ูุฐูุฑ ูู ุงูุดุฑูุงุก',
      amount: 7500,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงููุถู',
        '๐ผ 3 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ ูุน ูุฑูู ุงููุดุฑูุน',
        '๐ฐ ุฎุตู 20% ุนูู ุฌููุน ุงูุฎุฏูุงุช ููุฏุฉ 3 ุณููุงุช',
        '๐ค ุฐูุฑ ุงุณูู/ุดุฑูุชู ูู ุตูุญุฉ ุงูุดุฑูุงุก',
        '๐ข ุฐูุฑ ูู ุฌููุน ุงูููุงุฏ ุงูุชุณููููุฉ',
        '๐ค ุฏุนูุฉ VIP ูุฌููุน ุงููุนุงููุงุช',
        '๐ ูุตูู ุญุตุฑู ูุจูุงูุงุช ุงููุดุฑูุน ูููุญุฉ ุงูุชุญูู'
      ],
      maxBackers: 15,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    },
    {
      id: 4005,
      projectId: 26,
      name: 'ุงูุฏุงุนู ุงูุจูุงุชููู',
      description: 'ุฏุนู ูุชููุฒ ูุน ูุฒุงูุง ุงุณุชุซูุงุฆูุฉ ูุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ',
      amount: 15000,
      features: [
        'โ ุฌููุน ูุฒุงูุง ุงูุฏุงุนู ุงูุฐูุจู',
        '๐ผ 10 ุงุณุชุดุงุฑุงุช ูุฌุงููุฉ + ุฏุนู ูุฎุตุต',
        '๐ฐ ุฎุตู 30% ุนูู ุฌููุน ุงูุฎุฏูุงุช ูุฏู ุงูุญูุงุฉ',
        '๐ค ุดุฑุงูุฉ ุงุณุชุฑุงุชูุฌูุฉ ูุน ุงููุดุฑูุน',
        '๐ ููุนุฏ ูู ุงููุฌูุณ ุงูุงุณุชุดุงุฑู ูููุดุฑูุน',
        '๐ ููุฌู ุดุฑูุชู ุนูู ุงููููุน ูุงูุชุทุจูู',
        '๐ฏ ุฃููููุฉ ูุตูู ูู ุฌููุน ุงูุฎุฏูุงุช',
        '๐ ุดูุงุฏุฉ ุชูุฏูุฑ ุฑุณููุฉ ูู ุงููุดุฑูุน'
      ],
      maxBackers: 10,
      currentBackers: 0,
      isActive: true,
      createdAt: new Date(),
      updatedAt: new Date()
    }
  ]
};

export async function GET(
  request: NextRequest,
  { params }: { params: { id: string } }
) {
  try {
    const projectId = parseInt(params.id);

    // Try to get packages from database first
    let packages = await db
      .select()
      .from(supportPackages)
      .where(eq(supportPackages.projectId, projectId))
      .orderBy(asc(supportPackages.amount));

    // If no packages found in database, use hardcoded demo packages
    if (packages.length === 0 && DEMO_PACKAGES[projectId]) {
      packages = DEMO_PACKAGES[projectId];
    }

    return NextResponse.json({
      success: true,
      packages,
    });

  } catch (error) {
    console.error('Get packages error:', error);
    
    // On error, still try to return demo packages
    const projectId = parseInt(params.id);
    if (DEMO_PACKAGES[projectId]) {
      return NextResponse.json({
        success: true,
        packages: DEMO_PACKAGES[projectId],
      });
    }
    
    return NextResponse.json(
      { error: 'ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ุฌูุจ ุงูุจุงูุงุช' },
      { status: 500 }
    );
  }
}
